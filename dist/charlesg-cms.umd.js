(function(e,c){typeof exports=="object"&&typeof module<"u"?c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(e=typeof globalThis<"u"?globalThis:e||self,c(e.Vue))})(this,function(e){"use strict";function c(){const f=window.__INITIAL_TRANSLATIONS__,r=e.ref(f),l=function(a,o={}){let n=a.split(".").reduce((s,_)=>s==null?void 0:s[_],r.value);return typeof n=="string"&&Object.keys(o).forEach(s=>{n=n.replace(`:${s}`,o[s])}),n||a},d=a=>{localStorage.setItem("userLanguage",a)},i=()=>localStorage.getItem("userLanguage")||document.documentElement.lang||"en",t=e.ref(i()),u=async function(a){try{const n=await(await fetch("/change-language",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({locale:a})})).json();r.value=n.translations,t.value=n.locale,d(n.locale)}catch(o){console.error("Failed to change language:",o)}},b=function(){return t.value},g=async function(a,o){const n=i();console.log(n,o),n!==o?await u(n):(r.value=a,t.value=o)};return g(r.value,t.value),{trans:l,setLocale:u,getLocale:b,initTranslations:g,getLanguagePreference:i,currentLocale:t}}const p={class:"space-y-8"},m={class:"bg-yellow-500"},y={__name:"App",setup(f){const{trans:r,setLocale:l,currentLocale:d}=c();return(i,t)=>(e.openBlock(),e.createElementBlock("div",p,[e.createElementVNode("div",m,e.toDisplayString(e.unref(r)("cyvian.static.add")),1),e.createElementVNode("button",{class:"mx-2 p-2 border rounded border-blue-400",onClick:t[0]||(t[0]=u=>e.unref(l)("en"))},"EN"),e.createElementVNode("button",{class:"mx-2 p-2 border rounded border-blue-400",onClick:t[1]||(t[1]=u=>e.unref(l)("fr"))},"FR"),e.createElementVNode("div",null," Current locale is: "+e.toDisplayString(e.unref(d)),1)]))}};e.createApp(y).mount("#app")});
