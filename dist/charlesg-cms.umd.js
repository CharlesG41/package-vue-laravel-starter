(function(e,c){typeof exports=="object"&&typeof module<"u"?c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(e=typeof globalThis<"u"?globalThis:e||self,c(e.Vue))})(this,function(e){"use strict";function c(){const l=e.ref({}),a=e.ref(""),i=function(n,o={}){let t=n.split(".").reduce((s,y)=>s==null?void 0:s[y],l.value);return typeof t=="string"&&Object.keys(o).forEach(s=>{t=t.replace(`:${s}`,o[s])}),t||n},u=n=>{localStorage.setItem("userLanguage",n)},f=()=>localStorage.getItem("userLanguage")||document.documentElement.lang||"en",r=async function(n){try{const t=await(await fetch("/change-language",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({locale:n})})).json();l.value=t.translations,a.value=t.locale,u(t.locale)}catch(o){console.error("Failed to change language:",o)}},d=function(){return a.value},g=async function(n,o){const t=f();t!==o?await r(t):(l.value=n,a.value=o)};return g(l.value,a.value),{trans:i,setLocale:r,getLocale:d,initTranslations:g,getLanguagePreference:f,currentLocale:a}}const p={class:"bg-green-500"},m={__name:"App",setup(l){const{trans:a,setLocale:i,currentLocale:u}=c();return(f,r)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",p,e.toDisplayString(e.unref(a)("cyvian.static.add")),1),e.createElementVNode("button",{onClick:r[0]||(r[0]=d=>e.unref(i)("en"))},"EN"),e.createElementVNode("button",{onClick:r[1]||(r[1]=d=>e.unref(i)("fr"))},"FR"),e.createTextVNode(" Current locale est: "+e.toDisplayString(e.unref(u)),1)]))}};e.createApp(m).mount("#app")});
